/* =========================================================
   VARIABLES
========================================================= */
:root {
  --bubble-size: 64px;
  --bubble-bottom: 20px;
  --bubble-gap: 16px;
}

/* =========================================================
   HIDE DEFAULT N8N TOGGLE
========================================================= */
.n8n-chat .chat-window-toggle {
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* =========================================================
   CHAT WINDOW POSITION (THE REAL FIX)
========================================================= */
.n8n-chat .chat-window-wrapper {
  position: fixed !important;

  /* ðŸ”‘ Bubble bottom + bubble height + gap */
  bottom: calc(
    var(--bubble-bottom) +
    var(--bubble-size) +
    var(--bubble-gap)
  ) !important;

  right: 20px !important;
  z-index: 998 !important;

  /* CRITICAL */
  padding: 0 !important;
  margin: 0 !important;
  transform: none !important;
}

/* =========================================================
   CHAT WINDOW
========================================================= */
.n8n-chat .chat-window {
  width: 380px !important;
  height: 550px !important;
  display: none;
  border-radius: 12px !important;
  box-shadow: 0 20px 40px rgba(0,0,0,.15) !important;
}

.n8n-chat .chat-window.open {
  display: flex !important;
}

/* =========================================================
   CHAT BUBBLE BUTTON
========================================================= */
.chat-button-wrapper {
  position: fixed !important;
  bottom: var(--bubble-bottom) !important;
  right: 20px !important;

  width: var(--bubble-size) !important;
  height: var(--bubble-size) !important;

  border-radius: 50% !important;
  background: transparent !important;
  border: none !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;

  cursor: pointer !important;
  z-index: 1001 !important;
  pointer-events: auto !important;
}

/* =========================================================
   HEADER & MESSAGES
========================================================= */
.n8n-chat .chat-header {
  background: #0078ff !important;
  color: #fff !important;
}

.n8n-chat .chat-message-from-bot {
  background: #f1f5f9 !important;
  color: #0f172a !important;
}

.n8n-chat .chat-message-from-user {
  background: #0078ff !important;
  color: #fff !important;
}

/* =========================================================
   INPUT
========================================================= */
.n8n-chat .chat-input textarea {
  border-radius: 8px !important;
}

/* =========================================================
   MOBILE
========================================================= */
@media (max-width: 640px) {
  :root {
    --bubble-bottom: 16px;
    --bubble-gap: 12px;
  }

  .n8n-chat .chat-window-wrapper {
    right: 16px !important;
  }

  .chat-button-wrapper {
    right: 16px !important;
  }
}
